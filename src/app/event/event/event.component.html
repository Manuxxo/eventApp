<div *ngIf="loading">
  <app-loader></app-loader>
</div>
<div class="container mx-auto px-4 py-8" *ngIf="!loading">
  <button class="bg-primary-color text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center" (click)="goBack()">
    <mat-icon class="mr-2">arrow_back</mat-icon> Volver
  </button>
  <h2 class="text-3xl font-bold my-6 text-center">{{ isEditMode ? 'Editar evento' : 'Crear evento' }}</h2>
  <form (ngSubmit)="onSubmit()" #eventForm="ngForm" class="max-w-2xl mx-auto bg-white shadow-md rounded-lg p-6">
    <div class="mb-4">
      <label for="name" class="block text-gray-700 font-medium mb-2">Nombre del evento</label>
      <input
        type="text"
        id="name"
        required
        [(ngModel)]="event.name"
        name="name"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
      >
    </div>
    <div class="mb-4">
      <label for="date" class="block text-gray-700 font-medium mb-2">Fecha</label>
      <input
        type="date"
        id="date"
        required
        [(ngModel)]="event.date"
        name="date"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
      >
    </div>
    <div class="mb-4">
      <label for="location" class="block text-gray-700 font-medium mb-2">Localización</label>
      <input
        type="text"
        id="location"
        required
        [(ngModel)]="event.location"
        name="location"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
      >
    </div>
    <div class="mb-4">
      <label for="image" class="block text-gray-700 font-medium mb-2">URL imagen</label>
      <input
        type="text"
        id="image"
        required
        [(ngModel)]="event.image"
        name="image"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
      >
    </div>
    <div class="mb-4">
      <label for="price" class="block text-gray-700 font-medium mb-2">Precio</label>
      <input
        type="number"
        id="price"
        required
        [(ngModel)]="event.price"
        name="price"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
      >
    </div>
    <div class="mb-4">
      <label for="description" class="block text-gray-700 font-medium mb-2">Descripción</label>
      <textarea
        id="description"
        required
        [(ngModel)]="event.description"
        name="description"
        rows="6"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
      ></textarea>
    </div>
    <button
      type="submit"
      class="w-full bg-primary-color text-white font-bold py-2 px-4 rounded-lg"
      [disabled]="!eventForm.form.valid"
    >
      {{ isEditMode ? 'Actualizar evento' : 'Crear evento' }}
    </button>
  </form>
</div>
